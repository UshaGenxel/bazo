(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var a in o)e.o(o,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:o[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,o=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,l=window.wp.data,r=window.wp.serverSideRender;var c=e.n(r);const s=JSON.parse('{"UU":"bazo/event-grid"}');(0,t.registerBlockType)(s.UU,{edit:function(e){const{attributes:t,setAttributes:r}=e,{postsToShow:s,selectedCategories:d,showLoadMoreButton:i,postType:p,taxonomy:m,showLoader:g}=t,_=(0,a.useBlockProps)(),b=(0,l.useSelect)(e=>{const t=e("core").getPostTypes({per_page:-1});return t?t.filter(e=>!(!e.viewable||"attachment"===e.slug)).map(e=>({label:e.labels.singular_name,value:e.slug})):[]},[]),u=(0,l.useSelect)(e=>{if(!p)return[];const t=e("core").getPostType(p);return t&&t.taxonomies?t.taxonomies.map(t=>{const o=e("core").getTaxonomy(t);return o?{label:o.labels.singular_name,value:o.slug}:null}).filter(Boolean):[]},[p]),w=(0,l.useSelect)(e=>m&&e("core").getEntityRecords("taxonomy",m,{per_page:-1})||[],[m]);return React.createElement(React.Fragment,null,React.createElement(a.InspectorControls,null,React.createElement(n.PanelBody,{title:(0,o.__)("Display Settings","bazo")},React.createElement(n.SelectControl,{label:(0,o.__)("Post Type","bazo"),value:p,options:b,onChange:e=>{r({postType:e,taxonomy:""})}}),u.length>0&&React.createElement(n.SelectControl,{label:(0,o.__)("Category Type","bazo"),value:m,options:u,onChange:e=>r({taxonomy:e,selectedCategories:[]})}),React.createElement(n.RangeControl,{label:(0,o.__)("Posts to show","bazo"),value:s,onChange:e=>r({postsToShow:e}),min:1,max:20}),React.createElement(n.ToggleControl,{label:(0,o.__)("Show Load More Button","bazo"),checked:i,onChange:()=>r({showLoadMoreButton:!i})}),React.createElement(n.ToggleControl,{label:(0,o.__)("Show Loader","bazo"),checked:g,onChange:()=>r({showLoader:!g})})),m&&React.createElement(n.PanelBody,{title:(0,o.__)("Filter by Category","bazo")},React.createElement(n.CheckboxControl,{label:(0,o.__)("All","bazo"),checked:0===d.length,onChange:e=>e&&r({selectedCategories:[]})}),w&&w.map(e=>React.createElement(n.CheckboxControl,{key:e.id,label:e.name,checked:d.includes(e.id),onChange:t=>((e,t)=>{r(t?{selectedCategories:[...d,e]}:{selectedCategories:d.filter(t=>t!==e)})})(e.id,t)})))),React.createElement("div",_,g&&React.createElement("div",{className:"bazo-event-loader",style:{display:"flex"}},React.createElement("div",{class:"dot-spinner"},React.createElement("div",{class:"dot-spinner__dot"}),React.createElement("div",{class:"dot-spinner__dot"}),React.createElement("div",{class:"dot-spinner__dot"}),React.createElement("div",{class:"dot-spinner__dot"}),React.createElement("div",{class:"dot-spinner__dot"}),React.createElement("div",{class:"dot-spinner__dot"}),React.createElement("div",{class:"dot-spinner__dot"}),React.createElement("div",{class:"dot-spinner__dot"}))),React.createElement(c(),{block:"bazo/event-grid",attributes:t})))}})})();